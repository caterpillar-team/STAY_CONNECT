<!DOCTYPE html>
<html
    lang="en"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/layout}"
>
    <th:block layout:fragment="title">
        <title>reviewList page</title>
    </th:block>
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/pages/admin/reviewList.css}" />
        <link rel="stylesheet" th:href="@{/css/pages/admin/chatCard.css}" />
    </th:block>
    <th:block layout:fragment="javascript">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    </th:block>

    <th:block layout:fragment="leftAside">
        <div class="menu">
            <h3>관리자 페이지</h3>
            <div><a th:href="@{/admin/home}">&nbsp;&nbsp;&nbsp;&nbsp;대시 보드</a></div>
            <div><a th:href="@{/admin/userList}">&nbsp;&nbsp;&nbsp;&nbsp;사용자 리스트</a></div>
            <div><a th:href="@{/admin/reviewList}">&nbsp;&nbsp;&nbsp;&nbsp;리뷰 리스트</a></div>
            <div>
                <a
                    class="inquery"
                    data-bs-toggle="offcanvas"
                    href="#offcanvasRight"
                    role="button"
                    aria-controls="offcanvasRight"
                >
                    &nbsp;&nbsp;&nbsp;&nbsp;문의 관리
                </a>
            </div>
        </div>
    </th:block>
    <th:block layout:fragment="main">
        <h3 class="list-title">REVIEW LIST</h3>
        <div class="rowCount">
            <label for="">
                <select name="" id="">
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                </select>
            </label>
        </div>

        <div class="list-card">
            <table class="table align-middle table-hover">
                <thead>
                    <tr>
                        <th scope="col">IDENTIFY CODE</th>
                        <th scope="col">ID</th>
                        <th scope="col">USER NAME</th>
                        <th scope="col">내용</th>
                        <th scope="col">작성 일자</th>
                        <th scope="col">평점</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="reviewList : ${reviewList}">
                        <th scope="row" th:text="${reviewList.id}"></th>
                        <td th:text="${reviewList.user.id}"></td>
                        <td th:text="${reviewList.user.username}"></td>
                        <td th:text="${reviewList.contents}"></td>
                        <td th:text="${#temporals.format(reviewList.createdAt, 'yyyy-MM-dd HH:mm')}"></td>
                        <td th:text="${reviewList.rate}"></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <th scope="col">IDENTIFY CODE</th>
                        <th scope="col">ID</th>
                        <th scope="col">USER NAME</th>
                        <th scope="col">내용</th>
                        <th scope="col">작성 일자</th>
                        <th scope="col">평점</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </th:block>

    <th:block layout:fragment="rightAside">
        <div
            class="offcanvas offcanvas-end"
            data-bs-scroll="true"
            data-bs-backdrop="false"
            tabindex="-1"
            id="offcanvasRight"
            aria-labelledby="offcanvasRightLabel"
            th:fragment="chatBlock"
        >
            <div class="offcanvas-header">
                <h5 id="offcanvasRightLabel">나는 문의 채팅창</h5>
                <button
                    type="button"
                    class="btn-close text-reset"
                    data-bs-dismiss="offcanvas"
                    aria-label="Close"
                ></button>
            </div>
            <div class="offcanvas-body">
                <div class="chatCard">
                    <div class="chatLog"></div>
                    <form id="message" action="">
                        <input type="text" id="myMessage" placeholder="메시지를 작성해주세요" />
                        <button onclick="">전송</button>
                        <p>
                            <span class="notification"></span>
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </th:block>
</html>
